[main]
# Debug output on errors
##############################################################
debug = {{ polemarch_config_debug }}

# Logs minimal level (possible values are DEBUG, INFO, WARNING, ERROR)
##############################################################
log_level = {{ polemarch_config_log_level }}

# Timezone in TZ format (Region/Zone)
##############################################################
timezone = {{ polemarch_config_timezone }}

# Directory to store projects data
##############################################################
projects_dir = {{ polemarch_config_projects_dir }}

[database]
# Database settings.
# Read more: https://docs.djangoproject.com/en/1.10/ref/settings/#databases
##############################################################
engine = {{ polemarch_config_db_engine }}
name = {{ polemarch_config_db_name }}
user = {{ polemarch_config_db_user }}
password = {{ polemarch_config_db_password }}
host = {{ polemarch_config_db_host }}
port = {{ polemarch_config_db_port }}

[database.options]
# Database options settings
##############################################################
timeout = {{ polemarch_config_db_timeout }}

[cache]
# Cache settings.
# Read more: https://docs.djangoproject.com/en/1.10/ref/settings/#caches
##############################################################
backend = {{ polemarch_config_cache_engine }}
location = {{ polemarch_config_cache_location }}

[locks]
# Threads-locks settings.
# Read more: https://docs.djangoproject.com/en/1.10/ref/settings/#caches
# !!! USE ONLY BACKENDS WITH THREADS SUPPORT !!!
# !!! STRONGLY RECOMMENDED TO USE MEMCACHED OR REDIS BACKENDS !!!
##############################################################
backend = {{ polemarch_config_locks_engine }}
location = {{ polemarch_config_locks_location }}

[rpc]
# Celery broker settings
# Read more: http://docs.celeryproject.org/en/latest/userguide/configuration.html#conf-broker-settings
##############################################################
connection = {{ polemarch_config_rpc_connection }}
result_backend = {{ polemarch_config_rpc_result_backend }}
# Interval between sending heartbeat packages, which says that connection still
# alive. Make sure that it is not less than in your MQ server settings.
# Otherwise connection will be lost and worker will not accept jobs or
# web-server will not send jobs.
heartbeat = {{ polemarch_config_rpc_heartbeat }}
results_expiry_days = {{ polemarch_config_rpc_results_expiry_days }}
# Concurrency is number of parallel worker processes. Should at be at least 2.
concurrency = {{ polemarch_config_rpc_concurrency }}

[web]
# Django web settings
##############################################################

# Allowed hostnames for answer. Default - all.
##############################################################
allowed_hosts = {{ polemarch_config_web_allowed_hosts }}

# Url for static files.
# Attention: If you changing it, don't forget to change `static-map` in [uwsgi]
# section.
##############################################################
static_files_url = {{ polemarch_config_web_static_files_url }}

# How many results return by API.
##############################################################
rest_page_limit = {{ polemarch_config_web_rest_page_limit }}

[uwsgi]
# Polemarch web-server settings
# Read more: https://uwsgi-docs.readthedocs.io/en/latest/
##############################################################

# Spawn the specified number of workers/processes
##############################################################
processes = {{ polemarch_config_uwsgi_processes }}

# Run each worker in prethreaded mode with the specified number of threads
##############################################################
threads = {{ polemarch_config_uwsgi_threads }}

# Folder where Polemarch should look for its static files (js, css and so on).
# Attention: change only filesystem path (after last '=' sign). Example:
# static-map = /static=/my/filesystem/path
# Attention: If you changing it, don't forget to change `static_files_url` in
# [web] section.
##############################################################
static-map = {{ polemarch_config_uwsgi_static_map }}

# Where Polemarch web-server should place his PID-file
##############################################################
pidfile = {{ polemarch_config_uwsgi_pid }}

# Path to log of web-server
##############################################################
daemonize = {{ polemarch_config_uwsgi_daemonize }}